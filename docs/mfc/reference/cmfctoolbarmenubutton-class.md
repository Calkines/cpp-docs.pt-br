---
title: Classe CMFCToolBarMenuButton
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CMFCToolBarMenuButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CompareWith
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CopyFrom
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreateFromMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreateMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::CreatePopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::EnableQuickCustomize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetCommands
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetImageRect
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetPaletteRows
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::GetPopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::HasButton
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::HaveHotBorder
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsBorder
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsClickedOnMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsDroppedDown
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsEmptyMenuAllowed
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsExclusive
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsMenuPaletteMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsQuickMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::IsTearOffMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnAfterCreatePopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnBeforeDrag
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnCalculateSize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnCancelMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnChangeParentWnd
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnClick
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnClickMenuItem
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnContextHelp
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnDraw
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OnDrawOnCustomizeList
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::OpenPopupMenu
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::ResetImageToDefault
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SaveBarState
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::Serialize
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetACCData
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMenuOnly
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMenuPaletteMode
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetMessageWnd
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetRadio
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::SetTearOff
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::DrawDocumentIcon
- AFXTOOLBARMENUBUTTON/CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw
helpviewer_keywords:
- CMFCToolBarMenuButton [MFC], CMFCToolBarMenuButton
- CMFCToolBarMenuButton [MFC], CompareWith
- CMFCToolBarMenuButton [MFC], CopyFrom
- CMFCToolBarMenuButton [MFC], CreateFromMenu
- CMFCToolBarMenuButton [MFC], CreateMenu
- CMFCToolBarMenuButton [MFC], CreatePopupMenu
- CMFCToolBarMenuButton [MFC], EnableQuickCustomize
- CMFCToolBarMenuButton [MFC], GetCommands
- CMFCToolBarMenuButton [MFC], GetImageRect
- CMFCToolBarMenuButton [MFC], GetPaletteRows
- CMFCToolBarMenuButton [MFC], GetPopupMenu
- CMFCToolBarMenuButton [MFC], HasButton
- CMFCToolBarMenuButton [MFC], HaveHotBorder
- CMFCToolBarMenuButton [MFC], IsBorder
- CMFCToolBarMenuButton [MFC], IsClickedOnMenu
- CMFCToolBarMenuButton [MFC], IsDroppedDown
- CMFCToolBarMenuButton [MFC], IsEmptyMenuAllowed
- CMFCToolBarMenuButton [MFC], IsExclusive
- CMFCToolBarMenuButton [MFC], IsMenuPaletteMode
- CMFCToolBarMenuButton [MFC], IsQuickMode
- CMFCToolBarMenuButton [MFC], IsTearOffMenu
- CMFCToolBarMenuButton [MFC], OnAfterCreatePopupMenu
- CMFCToolBarMenuButton [MFC], OnBeforeDrag
- CMFCToolBarMenuButton [MFC], OnCalculateSize
- CMFCToolBarMenuButton [MFC], OnCancelMode
- CMFCToolBarMenuButton [MFC], OnChangeParentWnd
- CMFCToolBarMenuButton [MFC], OnClick
- CMFCToolBarMenuButton [MFC], OnClickMenuItem
- CMFCToolBarMenuButton [MFC], OnContextHelp
- CMFCToolBarMenuButton [MFC], OnDraw
- CMFCToolBarMenuButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarMenuButton [MFC], OpenPopupMenu
- CMFCToolBarMenuButton [MFC], ResetImageToDefault
- CMFCToolBarMenuButton [MFC], SaveBarState
- CMFCToolBarMenuButton [MFC], Serialize
- CMFCToolBarMenuButton [MFC], SetACCData
- CMFCToolBarMenuButton [MFC], SetMenuOnly
- CMFCToolBarMenuButton [MFC], SetMenuPaletteMode
- CMFCToolBarMenuButton [MFC], SetMessageWnd
- CMFCToolBarMenuButton [MFC], SetRadio
- CMFCToolBarMenuButton [MFC], SetTearOff
- CMFCToolBarMenuButton [MFC], DrawDocumentIcon
- CMFCToolBarMenuButton [MFC], m_bAlwaysCallOwnerDraw
ms.assetid: cfa50176-7e4b-4527-9904-86a1b48fc1bc
ms.openlocfilehash: 7733969a0218dacf481ac82c764911c61ecabbbf
ms.sourcegitcommit: 5cecccba0a96c1b4ccea1f7a1cfd91f259cc5bde
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/01/2019
ms.locfileid: "58769140"
---
# <a name="cmfctoolbarmenubutton-class"></a>Classe CMFCToolBarMenuButton

Um botão de barra de ferramentas que contém um menu pop-up.
Para obter mais detalhes, consulte o código-fonte localizado na **VC\\atlmfc\\src\\mfc** pasta de instalação do Visual Studio.

## <a name="syntax"></a>Sintaxe

```
class CMFCToolBarMenuButton : public CMFCToolBarButton
```

## <a name="members"></a>Membros

### <a name="public-constructors"></a>Construtores públicos

|Nome|Descrição|
|----------|-----------------|
|[CMFCToolBarMenuButton::CMFCToolBarMenuButton](#cmfctoolbarmenubutton)|Constrói um objeto `CMFCToolBarMenuButton`.|

### <a name="public-methods"></a>Métodos públicos

|Nome|Descrição|
|----------|-----------------|
|[CMFCToolBarMenuButton::CompareWith](#comparewith)|Compara essa instância fornecido `CMFCToolBarButton` objeto. (Substitui [CMFCToolBarButton::CompareWith](../../mfc/reference/cmfctoolbarbutton-class.md#comparewith).)|
|[CMFCToolBarMenuButton::CopyFrom](#copyfrom)|Copia as propriedades de outro botão de barra de ferramentas para o botão atual. (Substitui [CMFCToolBarButton::CopyFrom](../../mfc/reference/cmfctoolbarbutton-class.md#copyfrom).)|
|[CMFCToolBarMenuButton::CreateFromMenu](#createfrommenu)|Inicializa o menu da barra de ferramentas de um identificador de menu do Windows.|
|[CMFCToolBarMenuButton::CreateMenu](#createmenu)|Cria um menu do Windows que consiste em comandos no menu da barra de ferramentas. Retorna um identificador para o menu do Windows.|
|[CMFCToolBarMenuButton::CreatePopupMenu](#createpopupmenu)|Cria um objeto de menu pop-up ( [classe CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md)) para exibir o menu da barra de ferramentas.|
|[CMFCToolBarMenuButton::EnableQuickCustomize](#enablequickcustomize)||
|[CMFCToolBarMenuButton::GetCommands](#getcommands)|Fornece acesso somente leitura à lista de comandos no menu da barra de ferramentas.|
|[CMFCToolBarMenuButton::GetImageRect](#getimagerect)|Recupera o retângulo delimitador para a imagem do botão.|
|[CMFCToolBarMenuButton::GetPaletteRows](#getpaletterows)|Retorna o número de linhas no menu pop-up quando o menu estiver no modo de paleta.|
|[CMFCToolBarMenuButton::GetPopupMenu](#getpopupmenu)|Retorna um ponteiro para o objeto de menu pop-up que é associado com o botão.|
|[CMFCToolBarMenuButton::HasButton](#hasbutton)||
|[CMFCToolBarMenuButton::HaveHotBorder](#havehotborder)|Determina se uma borda do botão é exibida quando um usuário seleciona o botão. (Substitui [CMFCToolBarButton::HaveHotBorder](../../mfc/reference/cmfctoolbarbutton-class.md#havehotborder).)|
|[CMFCToolBarMenuButton::IsBorder](#isborder)||
|[CMFCToolBarMenuButton::IsClickedOnMenu](#isclickedonmenu)||
|[CMFCToolBarMenuButton::IsDroppedDown](#isdroppeddown)|Determina se o menu pop-up é exibido.|
|[CMFCToolBarMenuButton::IsEmptyMenuAllowed](#isemptymenuallowed)|Chamado pelo framework para determinar se um usuário pode abrir um submenu do item de menu selecionado.|
|[CMFCToolBarMenuButton::IsExclusive](#isexclusive)|Determina se o botão está no modo exclusivo, ou seja, se o menu pop-up permanece aberto, mesmo quando o usuário move o ponteiro sobre outra barra de ferramentas ou botão.|
|[CMFCToolBarMenuButton::IsMenuPaletteMode](#ismenupalettemode)|Determina se o menu pop-up está no modo de paleta.|
|[CMFCToolBarMenuButton::IsQuickMode](#isquickmode)||
|[CMFCToolBarMenuButton::IsTearOffMenu](#istearoffmenu)|Determina se o menu pop-up tem uma barra destacável.|
|[CMFCToolBarMenuButton::OnAfterCreatePopupMenu](#onaftercreatepopupmenu)||
|[CMFCToolBarMenuButton::OnBeforeDrag](#onbeforedrag)|Especifica se o botão pode ser arrastado. (Substitui [CMFCToolBarButton::OnBeforeDrag](../../mfc/reference/cmfctoolbarbutton-class.md#onbeforedrag).)|
|[CMFCToolBarMenuButton::OnCalculateSize](#oncalculatesize)|Chamado pelo framework para calcular o tamanho do botão para o contexto de dispositivo especificado e o estado de encaixe. (Substitui [CMFCToolBarButton::OnCalculateSize](../../mfc/reference/cmfctoolbarbutton-class.md#oncalculatesize).)|
|[CMFCToolBarMenuButton::OnCancelMode](#oncancelmode)|Chamado pelo framework para lidar com o [WM_CANCELMODE](/windows/desktop/winmsg/wm-cancelmode) mensagem. (Substitui [CMFCToolBarButton::OnCancelMode](../../mfc/reference/cmfctoolbarbutton-class.md#oncancelmode).)|
|[CMFCToolBarMenuButton::OnChangeParentWnd](#onchangeparentwnd)|Chamado pelo framework quando o botão é inserido em uma nova barra de ferramentas. (Substitui [CMFCToolBarButton::OnChangeParentWnd](cmfctoolbarbutton-class.md#onchangeparentwnd).)|
|[CMFCToolBarMenuButton::OnClick](#onclick)|Chamado pelo framework quando o usuário clica no botão do mouse. (Substitui [CMFCToolBarButton::OnClick](../../mfc/reference/cmfctoolbarbutton-class.md#onclick).)|
|[CMFCToolBarMenuButton::OnClickMenuItem](#onclickmenuitem)|Chamado pelo framework quando o usuário seleciona um item no menu pop-up.|
|[CMFCToolBarMenuButton::OnContextHelp](#oncontexthelp)|Chamado pelo framework quando a barra de ferramentas pai trata uma mensagem WM_HELPHITTEST. (Substitui [CMFCToolBarButton::OnContextHelp](../../mfc/reference/cmfctoolbarbutton-class.md#oncontexthelp).)|
|[CMFCToolBarMenuButton::OnDraw](#ondraw)|Chamado pelo framework para desenhar o botão usando as opções e estilos especificados. (Substitui [CMFCToolBarButton::OnDraw](../../mfc/reference/cmfctoolbarbutton-class.md#ondraw).)|
|[CMFCToolBarMenuButton::OnDrawOnCustomizeList](#ondrawoncustomizelist)|Chamado pelo framework para desenhar o botão na **comandos** painel da **personalizar** caixa de diálogo. (Substitui [CMFCToolBarButton::OnDrawOnCustomizeList](../../mfc/reference/cmfctoolbarbutton-class.md#ondrawoncustomizelist).)|
|[CMFCToolBarMenuButton::OpenPopupMenu](#openpopupmenu)|Chamado pelo framework quando o usuário abre o menu pop-up.|
|[CMFCToolBarMenuButton::ResetImageToDefault](#resetimagetodefault)|Define o valor padrão a imagem que está associada com o botão. (Substitui [CMFCToolBarButton::ResetImageToDefault](../../mfc/reference/cmfctoolbarbutton-class.md#resetimagetodefault).)|
|[CMFCToolBarMenuButton::SaveBarState](#savebarstate)|Salva o estado do botão de barra de ferramentas. (Substitui [CMFCToolBarButton::SaveBarState](../../mfc/reference/cmfctoolbarbutton-class.md#savebarstate).)|
|[CMFCToolBarMenuButton::Serialize](#serialize)|Lê esse objeto de um arquivo morto ou grava-o em um arquivo morto. (Substitui [CMFCToolBarButton::Serialize](../../mfc/reference/cmfctoolbarbutton-class.md#serialize).)|
|[CMFCToolBarMenuButton::SetACCData](#setaccdata)|Popula fornecido `CAccessibilityData` objeto com os dados de acessibilidade do botão de barra de ferramentas. (Substitui [CMFCToolBarButton::SetACCData](../../mfc/reference/cmfctoolbarbutton-class.md#setaccdata).)|
|[CMFCToolBarMenuButton::SetMenuOnly](#setmenuonly)|Especifica se o botão pode ser adicionado à barra de ferramentas.|
|[CMFCToolBarMenuButton::SetMenuPaletteMode](#setmenupalettemode)|Especifica se o menu pop-up está no modo de paleta.|
|[CMFCToolBarMenuButton::SetMessageWnd](#setmessagewnd)||
|[CMFCToolBarMenuButton::SetRadio](#setradio)|Força o botão de menu da barra de ferramentas para exibir um ícone indicando que ele está selecionado.|
|[CMFCToolBarMenuButton::SetTearOff](#settearoff)|Especifica um destacáveis ID da barra de menu pop-up.|

### <a name="protected-methods"></a>Métodos Protegidos

|Nome|Descrição|
|----------|-----------------|
|[CMFCToolBarMenuButton::DrawDocumentIcon](#drawdocumenticon)|Desenha um ícone do botão de menu.|

### <a name="data-members"></a>Membros de Dados

|Nome|Descrição|
|----------|-----------------|
|[CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw](#m_balwayscallownerdraw)|Se for TRUE, o framework chama sempre [CFrameWndEx::OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) quando um botão é desenhado.|

## <a name="remarks"></a>Comentários

Um `CMFCToolBarMenuButton` pode ser exibido como um menu, um item de menu que tem um submenu, um botão que executa um comando ou exibe um menu ou um botão que exibe apenas um menu. Determinar o comportamento e aparência do botão de menu com a especificação de parâmetros, como a imagem, texto, o identificador do menu e ID que está associado com o botão no construtor do comando `CMFCToolbarMenuButton::CMFCToolbarMenuButton`.

Uma classe personalizada derivada de `CMFCToolbarMenuButton` deve usar a classe a [DECLARE_SERIAL](run-time-object-model-services.md#declare_serial) macro. O [DECLARE_DYNCREATE](run-time-object-model-services.md#declare_dyncreate) macro gera um erro quando o aplicativo é fechado.

## <a name="example"></a>Exemplo

O exemplo a seguir demonstra como configurar um `CMFCToolBarMenuButton` objeto. O código ilustra como especificar que o menu suspenso está no modo de paleta e especifique a ID para a barra destacável que é criada quando o usuário arrasta o botão de menu em uma barra de menus. Este trecho de código é parte do [exemplo de Word Pad](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_WordPad#10](../../mfc/reference/codesnippet/cpp/cmfctoolbarmenubutton-class_1.cpp)]

## <a name="inheritance-hierarchy"></a>Hierarquia de herança

[CObject](cobject-class.md)

[CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)

[CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md)

## <a name="requirements"></a>Requisitos

**Cabeçalho:** afxtoolbarmenubutton.h

##  <a name="cmfctoolbarmenubutton"></a>  CMFCToolBarMenuButton::CMFCToolBarMenuButton

Constrói um objeto `CMFCToolBarMenuButton`.

```
CMFCToolBarMenuButton();
CMFCToolBarMenuButton(const CMFCToolBarMenuButton& src);

CMFCToolBarMenuButton(
    UINT uiID,
    HMENU hMenu,
    int iImage,
    LPCTSTR lpszText=NULL,
    BOOL bUserButton=FALSE);
```

### <a name="parameters"></a>Parâmetros

*src*<br/>
[in] Um existente `CMFCToolBarMenuButton` o objeto a ser copiado para isso `CMFCToolBarMenuButton` objeto.

*uiID*<br/>
[in] A ID do comando a ser executado quando um usuário clica no botão. ou -1 (UINT) para um botão de menu que não executa diretamente um comando.

*hMenu*<br/>
[in] Um identificador para um menu. ou nulo se o botão não tem um menu.

*iImage*<br/>
[in] Índice da imagem do botão; ou -1 se este botão não tem um ícone ou usa o ícone para o comando especificado por *uiID*. O índice é a mesma para cada `CMFCToolBarImages` objeto em seu aplicativo.

*lpszText*<br/>
[in] O texto do botão de menu da barra de ferramentas.

*bUserButton*<br/>
[in] TRUE se o botão exibe uma imagem definida pelo usuário; FALSE se o botão exibe uma imagem predefinida associada com o comando especificado por *uiID*.

### <a name="remarks"></a>Comentários

Se *uiID* é válido ID do comando, o botão executa esse comando quando o usuário clica nele. Se *hMenu* é um identificador válido do menu, o botão fornece um menu suspenso quando ele for exibido em uma barra de ferramentas ou a um submenu quando ele for exibido em um menu. Se os dois *uiID* e *hMenu* forem válidos, o botão é um botão de divisão com uma parte que executará o comando quando o usuário clica nele e uma parte com uma seta para baixo que será suspensa um menu quando o usuário Quando clica nele. No entanto, se *hMenu* for válido, um usuário não será capaz de clicar no botão para executar um comando quando o botão é inserido em um menu.

### <a name="example"></a>Exemplo

O exemplo a seguir demonstra como construir um objeto do `CMFCToolBarMenuButton` classe. Este trecho de código é parte do [exemplo de Word Pad](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_WordPad#9](../../mfc/reference/codesnippet/cpp/cmfctoolbarmenubutton-class_2.cpp)]

##  <a name="comparewith"></a>  CMFCToolBarMenuButton::CompareWith

```
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;
```

### <a name="parameters"></a>Parâmetros

[in] *outros*<br/>

### <a name="return-value"></a>Valor de retorno

### <a name="remarks"></a>Comentários

##  <a name="copyfrom"></a>  CMFCToolBarMenuButton::CopyFrom

```
virtual void CopyFrom(const CMFCToolBarButton& src);
```

### <a name="parameters"></a>Parâmetros

[in] *src*<br/>

### <a name="remarks"></a>Comentários

##  <a name="createfrommenu"></a>  CMFCToolBarMenuButton::CreateFromMenu

Inicializa o menu da barra de ferramentas de um identificador de menu do Windows.

```
virtual void CreateFromMenu(HMENU hMenu);
```

### <a name="parameters"></a>Parâmetros

*hMenu*<br/>
[in] Um identificador para um menu.

### <a name="remarks"></a>Comentários

Um botão de menu da barra de ferramentas pode exibir um submenu da lista suspensa.

A estrutura chama esse método para inicializar os comandos no submenu de um menu.

##  <a name="createmenu"></a>  CMFCToolBarMenuButton::CreateMenu

Cria um menu que consiste em comandos no menu da barra de ferramentas. Retorna um identificador para o menu.

```
virtual HMENU CreateMenu() const;
```

### <a name="return-value"></a>Valor de retorno

Um identificador para o menu se sucesso. NULL se a lista de comandos associados com o botão de menu da barra de ferramentas está vazia.

### <a name="remarks"></a>Comentários

Você pode substituir esse método em uma classe derivada para personalizar a maneira como o menu é gerado.

##  <a name="createpopupmenu"></a>  CMFCToolBarMenuButton::CreatePopupMenu

Cria um `CMFCPopupMenu` objeto para exibir o menu da barra de ferramentas.

```
virtual CMFCPopupMenu* CreatePopupMenu();
```

### <a name="return-value"></a>Valor de retorno

Um ponteiro para um `CMFCPopupMenu` objeto que exibe o menu suspenso associado com o botão de menu da barra de ferramentas.

### <a name="remarks"></a>Comentários

Esse método é chamado pelo framework para preparar a exibição do menu suspenso associado ao botão.

A implementação padrão simplesmente constrói e retorna um novo `CMFCPopupMenu` objeto. Substitua este método se você quiser usar um tipo derivado de [classe CMFCPopupMenu](cmfcpopupmenu-class.md) ou para executar a inicialização adicional.

##  <a name="drawdocumenticon"></a>  CMFCToolBarMenuButton::DrawDocumentIcon

Desenha um ícone de documento no botão de menu.

```
void DrawDocumentIcon(
    CDC* pDC,
    const CRect& rectImage,
    HICON hIcon);
```

### <a name="parameters"></a>Parâmetros

*pDC*<br/>
[in] Um ponteiro para o contexto de dispositivo.

*rectImage*<br/>
[in] Coordenadas da imagem do retângulo delimitador.

*hIcon*<br/>
[in] Um identificador para o ícone.

### <a name="remarks"></a>Comentários

Esse método usa um ícone de documento e desenha no botão de menu, centralizado na área especificada por *rectImage*.

##  <a name="enablequickcustomize"></a>  CMFCToolBarMenuButton::EnableQuickCustomize

```
void EnableQuickCustomize();
```

### <a name="remarks"></a>Comentários

##  <a name="hasbutton"></a>  CMFCToolBarMenuButton::HasButton

```
virtual BOOL HasButton() const;
```

### <a name="return-value"></a>Valor de retorno

### <a name="remarks"></a>Comentários

##  <a name="havehotborder"></a>  CMFCToolBarMenuButton::HaveHotBorder

```
virtual BOOL HaveHotBorder() const;
```

### <a name="return-value"></a>Valor de retorno

### <a name="remarks"></a>Comentários

##  <a name="isborder"></a>  CMFCToolBarMenuButton::IsBorder

```
virtual BOOL IsBorder() const;
```

### <a name="return-value"></a>Valor de retorno

### <a name="remarks"></a>Comentários

##  <a name="isclickedonmenu"></a>  CMFCToolBarMenuButton::IsClickedOnMenu

```
BOOL IsClickedOnMenu() const;
```

### <a name="return-value"></a>Valor de retorno

### <a name="remarks"></a>Comentários

##  <a name="isquickmode"></a>  CMFCToolBarMenuButton::IsQuickMode

```
BOOL IsQuickMode();
```

### <a name="return-value"></a>Valor de retorno

### <a name="remarks"></a>Comentários

##  <a name="getcommands"></a>  CMFCToolBarMenuButton::GetCommands

Fornece acesso somente leitura à lista de comandos no menu da barra de ferramentas.

```
const CObList& GetCommands() const;
```

### <a name="return-value"></a>Valor de retorno

Uma referência const para um [classe CObList](../../mfc/reference/coblist-class.md) objeto, que contém uma coleção de [classe CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) objetos.

### <a name="remarks"></a>Comentários

Um botão de menu da barra de ferramentas pode exibir um submenu. Você pode fornecer a lista de comandos no submenu no construtor ou na [CMFCToolBarMenuButton::CreateFromMenu](#createfrommenu) como um identificador para um menu (HMENU). O menu é convertido em uma lista de objetos que são derivados de [classe CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) e armazenadas em do internal `CObList` objeto. Você pode acessar essa lista chamando esse método.

##  <a name="getimagerect"></a>  CMFCToolBarMenuButton::GetImageRect

Recupera o retângulo delimitador para a imagem do botão.

```
void GetImageRect(CRect& rectImage);
```

### <a name="parameters"></a>Parâmetros

*rectImage*<br/>
[out] Uma referência a um `CRect` objeto que recebe as coordenadas da imagem do retângulo delimitador.

##  <a name="getpaletterows"></a>  CMFCToolBarMenuButton::GetPaletteRows

Retorna o número de linhas no menu suspenso quando o menu estiver no modo de paleta.

```
int GetPaletteRows() const;
```

### <a name="return-value"></a>Valor de retorno

O número de linhas na paleta.

### <a name="remarks"></a>Comentários

Quando o botão de menu é definido para o modo de paleta, itens de menu serão exibido em várias colunas com apenas um número limitado de linhas. Chame esse método para obter o número de linhas. Você pode habilitar ou desabilitar o modo de paleta e especifique o número de linhas usando [CMFCToolBarMenuButton::SetMenuPaletteMode](#setmenupalettemode).

##  <a name="getpopupmenu"></a>  CMFCToolBarMenuButton::GetPopupMenu

Retorna um ponteiro para o [classe CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) objeto que representa o menu suspenso do botão.

```
CMFCPopupMenu* GetPopupMenu() const;
```

### <a name="return-value"></a>Valor de retorno

Um ponteiro para um [classe CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) objeto que foi criado quando o framework desenhou o submenu do botão de menu da barra de ferramentas; NULL se nenhum submenu é exibida.

### <a name="remarks"></a>Comentários

Quando um botão de menu da barra de ferramentas exibe um menu suspenso, o botão cria uma [classe CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) objeto para representar o menu. Chame esse método para obter um ponteiro para o `CMFCPopupMenu` objeto. Você não deve armazenar o ponteiro retornado, porque ele é temporário e se torna inválido quando o usuário fechar o menu suspenso.

##  <a name="isdroppeddown"></a>  CMFCToolBarMenuButton::IsDroppedDown

Indica se o menu pop-up é exibido no momento.

```
virtual BOOL IsDroppedDown() const;
```

### <a name="return-value"></a>Valor de retorno

TRUE se o botão de menu da barra de ferramentas exibe seu submenu; Caso contrário, FALSE.

##  <a name="isemptymenuallowed"></a>  CMFCToolBarMenuButton::IsEmptyMenuAllowed

Especifica se os itens de menu mostra submenus vazios.

```
virtual BOOL IsEmptyMenuAllowed() const;
```

### <a name="return-value"></a>Valor de retorno

TRUE se o framework abre um submenu do item de menu selecionado no momento, mesmo quando o submenu está vazio. Caso contrário, FALSE.

### <a name="remarks"></a>Comentários

O framework chama esse método quando um usuário tenta abrir o submenu do item de menu selecionado no momento. Se o submenu está vazio e `IsEmptyMenuAllowed` retornar FALSE, o submenu não serão abertos.

A implementação padrão retorna falso. Substitua este método para personalizar esse comportamento.

##  <a name="isexclusive"></a>  CMFCToolBarMenuButton::IsExclusive

Indica se o botão está no modo exclusivo.

```
virtual BOOL IsExclusive() const;
```

### <a name="return-value"></a>Valor de retorno

TRUE se o botão está funcionando em modo exclusivo; Caso contrário, FALSE.

### <a name="remarks"></a>Comentários

Quando um usuário abre um menu pop-up para um botão e, em seguida, move o ponteiro do mouse sobre outro botão de barra de ferramentas ou menu, no menu pop-up é fechada, a menos que o botão está no modo exclusivo.

A implementação padrão sempre retorna FALSE. Substitua este método em uma classe derivada se você quiser ativar o modo exclusivo.

##  <a name="ismenupalettemode"></a>  CMFCToolBarMenuButton::IsMenuPaletteMode

Determina se o menu suspenso está no modo de paleta.

```
BOOL IsMenuPaletteMode() const;
```

### <a name="return-value"></a>Valor de retorno

TRUE se o modo de paleta estiver habilitado, caso contrário, FALSE.

### <a name="remarks"></a>Comentários

Quando o botão de menu é definido para o modo de paleta, itens de menu aparecem em várias colunas com apenas um número limitado de linhas. Chame esse método para obter o número de linhas. Você pode habilitar ou desabilitar o modo de paleta chamando [CMFCToolBarMenuButton::SetMenuPaletteMode](#setmenupalettemode).

##  <a name="istearoffmenu"></a>  CMFCToolBarMenuButton::IsTearOffMenu

Indica se o menu suspenso tem uma barra destacável.

```
virtual BOOL IsTearOffMenu() const;
```

### <a name="return-value"></a>Valor de retorno

TRUE se o botão de menu da barra de ferramentas tem uma barra destacável; Caso contrário, FALSE.

### <a name="remarks"></a>Comentários

Para habilitar o recurso destacáveis e definir o destacável da barra ID, chame [CMFCToolBarMenuButton::SetTearOff](#settearoff).

##  <a name="m_balwayscallownerdraw"></a>  CMFCToolBarMenuButton::m_bAlwaysCallOwnerDraw

Especifica se o framework chama sempre [CFrameWndEx::OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) quando um botão é desenhado.

```
static BOOL m_bAlwaysCallOwnerDraw;
```

### <a name="remarks"></a>Comentários

Quando essa variável de membro é definido como TRUE, o botão sempre chama [CFrameWndEx::OnDrawMenuImage](../../mfc/reference/cframewndex-class.md#ondrawmenuimage) método para exibir a imagem do botão. Quando `m_bAlwaysCallOwnerDraw` é FALSE, o próprio botão desenha a imagem se a imagem é predefinida. Caso contrário, ele chama `OnDrawMenuImage`.

##  <a name="onaftercreatepopupmenu"></a>  CMFCToolBarMenuButton::OnAfterCreatePopupMenu

```
virtual void OnAfterCreatePopupMenu();
```

### <a name="remarks"></a>Comentários

##  <a name="onbeforedrag"></a>  CMFCToolBarMenuButton::OnBeforeDrag

```
virtual BOOL OnBeforeDrag() const;
```

### <a name="return-value"></a>Valor de retorno

### <a name="remarks"></a>Comentários

##  <a name="oncalculatesize"></a>  CMFCToolBarMenuButton::OnCalculateSize

```
virtual SIZE OnCalculateSize(
    CDC* pDC,
    const CSize& sizeDefault,
    BOOL bHorz);
```

### <a name="parameters"></a>Parâmetros

[in] *pDC*<br/>
[in] *sizeDefault*<br/>
[in] *bHorz*<br/>

### <a name="return-value"></a>Valor de retorno

### <a name="remarks"></a>Comentários

##  <a name="oncancelmode"></a>  CMFCToolBarMenuButton::OnCancelMode

```
virtual void OnCancelMode();
```

### <a name="remarks"></a>Comentários

##  <a name="onchangeparentwnd"></a>  CMFCToolBarMenuButton::OnChangeParentWnd

```
virtual void OnChangeParentWnd(CWnd* pWndParent);
```

### <a name="parameters"></a>Parâmetros

[in] *pWndParent*<br/>

### <a name="remarks"></a>Comentários

##  <a name="onclick"></a>  CMFCToolBarMenuButton::OnClick

```
virtual BOOL OnClick(
    CWnd* pWnd,
    BOOL bDelay = TRUE);
```

### <a name="parameters"></a>Parâmetros

[in] *pWnd*<br/>
[in] *bDelay*<br/>

### <a name="return-value"></a>Valor de retorno

### <a name="remarks"></a>Comentários

##  <a name="onclickmenuitem"></a>  CMFCToolBarMenuButton::OnClickMenuItem

Chamado pelo framework quando o usuário seleciona um item no menu suspenso.

```
virtual BOOL OnClickMenuItem();
```

### <a name="return-value"></a>Valor de retorno

FALSO se o framework deve continuar no menu de padrão de processamento item; Caso contrário, TRUE. A implementação padrão sempre retorna FALSE.

### <a name="remarks"></a>Comentários

Quando o usuário clica em um item de menu, a estrutura executará um comando que está associado esse item.

Para personalizar o processamento do item de menu, substitua `OnClickMenuItem` em uma classe derivada de `CMFCToolBarMenuButton` classe. Você também deve substituir [CFrameWndEx::OnShowPopupMenu](../../mfc/reference/cframewndex-class.md#onshowpopupmenu) e substitua os botões de menu que requerem processamento especial com instâncias da classe derivada.

##  <a name="oncontexthelp"></a>  CMFCToolBarMenuButton::OnContextHelp

```
virtual BOOL OnContextHelp(CWnd* pWnd);
```

### <a name="parameters"></a>Parâmetros

[in] *pWnd*<br/>

### <a name="return-value"></a>Valor de retorno

### <a name="remarks"></a>Comentários

##  <a name="ondraw"></a>  CMFCToolBarMenuButton::OnDraw

```
virtual void OnDraw(
    CDC* pDC,
    const CRect& rect,
    CMFCToolBarImages* pImages,
    BOOL bHorz = TRUE,
    BOOL bCustomizeMode = FALSE,
    BOOL bHighlight = FALSE,
    BOOL bDrawBorder = TRUE,
    BOOL bGrayDisabledButtons = TRUE);
```

### <a name="parameters"></a>Parâmetros

[in] *pDC*<br/>
[in] *rect*<br/>
[in] *pImages*<br/>
[in] *bHorz*<br/>
[in] *bCustomizeMode*<br/>
[in] *bHighlight*<br/>
[in] *bDrawBorder*<br/>
[in] *bGrayDisabledButtons*<br/>

### <a name="remarks"></a>Comentários

##  <a name="ondrawoncustomizelist"></a>  CMFCToolBarMenuButton::OnDrawOnCustomizeList

```
virtual int OnDrawOnCustomizeList(
    CDC* pDC,
    const CRect& rect,
    BOOL bSelected);
```

### <a name="parameters"></a>Parâmetros

[in] *pDC*<br/>
[in] *rect*<br/>
[in] *bSelected*<br/>

### <a name="return-value"></a>Valor de retorno

### <a name="remarks"></a>Comentários

##  <a name="openpopupmenu"></a>  CMFCToolBarMenuButton::OpenPopupMenu

Chamado pelo framework quando o usuário abre o menu suspenso de um botão de menu da barra de ferramentas.

```
virtual BOOL OpenPopupMenu(CWnd* pWnd=NULL);
```

### <a name="parameters"></a>Parâmetros

*pWnd*<br/>
[in] Especifica a janela que recebe os comandos de menu suspenso. Ele pode ser NULL somente se o botão de menu da barra de ferramentas tem uma janela pai.

### <a name="return-value"></a>Valor de retorno

TRUE quando uma [classe CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) objeto foi criado e aberto com êxito; caso contrário, FALSO.

### <a name="remarks"></a>Comentários

Essa função é chamada pelo framework quando o usuário abre um menu suspenso em um botão de menu da barra de ferramentas.

##  <a name="resetimagetodefault"></a>  CMFCToolBarMenuButton::ResetImageToDefault

```
virtual void ResetImageToDefault();
```

### <a name="remarks"></a>Comentários

##  <a name="savebarstate"></a>  CMFCToolBarMenuButton::SaveBarState

```
virtual void SaveBarState();
```

### <a name="remarks"></a>Comentários

O framework chama esse método quando ele cria um botão de barra de ferramentas como o resultado de uma operação de arrastar e soltar. Este método chama o [CMFCPopupMenu::SaveState](../../mfc/reference/cmfcpopupmenu-class.md#savestate) método do menu de nível superior pop-up, que faz com que o botão do pai do menu pop-up para recriar seu menu.

##  <a name="serialize"></a>  CMFCToolBarMenuButton::Serialize

```
virtual void Serialize(CArchive& ar);
```

### <a name="parameters"></a>Parâmetros

[in] *ar*<br/>

### <a name="remarks"></a>Comentários

##  <a name="setaccdata"></a>  CMFCToolBarMenuButton::SetACCData

Define os dados de acessibilidade para o elemento de faixa de opções.

```
virtual BOOL SetACCData(
    CWnd* pParent,
    CAccessibilityData& data);
```

### <a name="parameters"></a>Parâmetros

*pParent*<br/>
A janela pai para o elemento de faixa de opções.

*data*<br/>
Os dados de acessibilidade para o elemento de faixa de opções.

### <a name="return-value"></a>Valor de retorno

Sempre retorna TRUE.

### <a name="remarks"></a>Comentários

Por padrão, esse método define os dados de acessibilidade para o elemento de faixa de opções e sempre retorna TRUE. Substitua este método para definir os dados de acessibilidade e retornar um valor que indica êxito ou falha.

##  <a name="setmenuonly"></a>  CMFCToolBarMenuButton::SetMenuOnly

Especifica se o botão é desenhado como um botão de menu ou um botão de divisão quando ele tem uma ID de comando válido e um submenu.

```
void SetMenuOnly(BOOL bMenuOnly);
```

### <a name="parameters"></a>Parâmetros

*bMenuOnly*<br/>
[in] TRUE para mostrar esse botão como um botão de menu quando ele tem uma ID de comando válido e um submenu, FALSE para mostrar esse botão como um botão de divisão, quando ele tem uma ID de comando válido e um submenu.

### <a name="remarks"></a>Comentários

Normalmente, quando um botão de menu da barra de ferramentas tem um submenu e uma ID de comando, o menu parece ser um botão de divisão que tem um botão principal e um anexado para baixo do botão de seta. Se você chamar esse método e *bMenuOnly* for TRUE, o botão é exibido em vez disso ser um botão de menu único com uma seta para baixo no botão. Quando o usuário clica na seta em qualquer modo, o submenu é exibido, e quando o usuário clica a parte não seta para baixo do botão em qualquer modo, o framework executa o comando.

##  <a name="setmenupalettemode"></a>  CMFCToolBarMenuButton::SetMenuPaletteMode

Especifica se o menu suspenso está no modo de paleta.

```
void SetMenuPaletteMode(
    BOOL bMenuPaletteMode=TRUE,
    int nPaletteRows=1);
```

### <a name="parameters"></a>Parâmetros

*bMenuPaletteMode*<br/>
[in] Especifica se o menu suspenso está no modo de paleta.

*nPaletteRows*<br/>
[in] Número de linhas na paleta.

### <a name="remarks"></a>Comentários

No modo de paleta, todos os itens de menu são exibidos como uma paleta de várias colunas. Especificar o número de linhas usando *nPaletteRows*.

##  <a name="setmessagewnd"></a>  CMFCToolBarMenuButton::SetMessageWnd

```
void SetMessageWnd(CWnd* pWndMessage);
```

### <a name="parameters"></a>Parâmetros

[in] *pWndMessage*<br/>

### <a name="remarks"></a>Comentários

##  <a name="setradio"></a>  CMFCToolBarMenuButton::SetRadio

Define o botão de menu da barra de ferramentas para exibir um ícone de estilo de botão de opção quando é verificado.

```
virtual void SetRadio();
```

### <a name="remarks"></a>Comentários

Quando o botão de menu é desenhado enquanto ele é verificado, ele chama [CMFCVisualManager::OnDrawMenuCheck](../../mfc/reference/cmfcvisualmanager-class.md#ondrawmenucheck) para desenhar um ícone de marca de seleção. Por padrão, `OnDrawMenuCheck` marca de seleção de estilo de solicitações que o Gerenciador visual atual desenha uma caixa de seleção do botão de menu. Depois de chamar esse método, o Gerenciador visual atual em vez disso, desenha uma marca de seleção de estilo de botão de opção no botão de menu. Essa alteração não pode ser desfeita.

Quando você chamar esse método e o botão de menu está sendo exibido, ele será atualizado.

##  <a name="settearoff"></a>  CMFCToolBarMenuButton::SetTearOff

Especifica a ID da barra destacável para o menu suspenso.

```
virtual void SetTearOff(UINT uiBarID);
```

### <a name="parameters"></a>Parâmetros

*uiBarID*<br/>
[in] Especifica um destacáveis nova barra de ID.

### <a name="remarks"></a>Comentários

Chame esse método para especificar a ID para a barra destacável que é criada quando o usuário arrasta o botão de menu em uma barra de menus. Se o *uiBarID* parâmetro for 0, o usuário não é possível separar o botão de menu.

Chame [CWinAppEx::EnableTearOffMenus](../../mfc/reference/cwinappex-class.md#enabletearoffmenus) para habilitar o recurso de menu destacável em seu aplicativo.

## <a name="see-also"></a>Consulte também

[Gráfico da hierarquia](../../mfc/hierarchy-chart.md)<br/>
[Classes](../../mfc/reference/mfc-classes.md)<br/>
[Classe CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)<br/>
[Classe CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md)<br/>
[Classe CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md)
